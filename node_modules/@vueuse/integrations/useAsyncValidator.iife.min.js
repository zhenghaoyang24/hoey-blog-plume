(function(m,s,u,t){"use strict";const p=u.default||u;function y(w,A,F={}){const{validateOption:U={},immediate:o=!0,manual:i=!1}=F,c=s.toRef(w),r=t.shallowRef(null),a=t.ref(!0),l=t.ref(!o||i),d=t.computed(()=>{var e;return((e=r.value)==null?void 0:e.errors)||[]}),f=t.computed(()=>{var e;return((e=r.value)==null?void 0:e.fields)||{}}),v=t.computed(()=>new p(t.toValue(A))),h=async()=>{a.value=!1,l.value=!1;try{await v.value.validate(c.value,U),l.value=!0,r.value=null}catch(e){r.value=e}finally{a.value=!0}return{pass:l.value,errorInfo:r.value,errors:d.value,errorFields:f.value}};i||t.watch([c,v],()=>h(),{immediate:o,deep:!0});const V={isFinished:a,pass:l,errors:d,errorInfo:r,errorFields:f,execute:h};function R(){return new Promise((e,n)=>{s.until(a).toBe(!0).then(()=>e(V)).catch(I=>n(I))})}return{...V,then(e,n){return R().then(e,n)}}}m.useAsyncValidator=y})(this.VueUse=this.VueUse||{},VueUse,AsyncValidator,Vue);
