---
title: 创建版本库
createTime: 2025/03/12 17:13:47
permalink: /memo/git/yeneb1rg/
tags:
  - Git
---

## 1. 初始化版本库
### 功能概述
`git init` 命令用于在本地目录中创建一个新的 Git 版本库。当你开始一个新的项目或者想要对现有的项目进行版本控制时，就可以使用该命令来初始化一个 Git 仓库。

### 操作步骤
首先，打开终端（在 Windows 系统中可以使用 Git Bash，在 macOS 和 Linux 系统中可以使用自带的终端应用），然后导航到你想要创建版本库的目录。例如，我们要在 `~/Projects/my-project` 目录下创建一个新的 Git 版本库，可以执行以下命令：
```bash
cd ~/Projects/my-project
git init
```
执行 `git init` 命令后，Git 会在当前目录下创建一个名为 `.git` 的**隐藏目录**，该目录包含了 Git 版本库的所有元数据和配置信息。

### 查看初始化结果
你可以使用 `ls -a` 命令查看当前目录下的所有文件和文件夹，确认 `.git` 目录是否已经创建：
```bash
ls -a
```

## 2. 添加文件到暂存区
### 功能概述
在 Git 中，文件的修改需要先添加到暂存区，然后才能提交到版本库。`git add` 命令用于将文件的修改添加到暂存区。

### 常用用法
- **添加单个文件**：如果你只需要添加一个文件到暂存区，可以使用以下命令：
```bash
git add filename.txt
```
这里的 `filename.txt` 是你要添加的文件的名称。

- **添加多个文件**：如果要添加多个文件，可以在 `git add` 命令后面依次列出这些文件的名称，用**空格分隔**：
```bash
git add file1.txt file2.txt
```

- **添加整个目录**：如果你想将某个目录下的所有文件和子目录的修改都添加到暂存区，可以使用以下命令：
```bash
git add directory/
```
其中 `directory/` 是你要添加的目录的名称。

- **添加所有修改**：使用 `.` 或 `--all` 选项可以将当前目录下的所有文件的修改都添加到暂存区：
```bash
git add .
# 或者
git add --all
```

### 查看暂存区状态
使用 `git status` 命令可以查看当前工作目录和暂存区的状态，确认哪些文件已经添加到暂存区，哪些文件还未添加：
```bash
git status
```

## 3. 提交暂存区的修改
### 功能概述
`git commit` 命令用于将暂存区的修改提交到本地版本库。每次提交都会生成一个新的提交对象，该对象包含了本次提交的元数据（如作者、提交时间、提交信息等）以及指向父提交对象的引用。

### 基本用法
提交暂存区的修改时，需要使用 `-m` 选项指定提交信息，该信息用于描述本次提交所做的更改：
```bash
git commit -m "Initial commit"
```
这里的 `"Initial commit"` 是提交信息，你可以根据实际情况修改该信息，使其更准确地描述本次提交的内容。

### 详细提交信息
如果提交信息比较复杂，可以不使用 `-m` 选项，直接执行 `git commit` 命令。Git 会打开一个文本编辑器（如 Vim 或 Nano），让你输入详细的提交信息。在编辑器中输入提交信息后，保存并退出编辑器，即可完成提交。

### 跳过暂存区直接提交
如果你只想提交某些文件的修改，并且不想将这些修改先添加到暂存区，可以使用 `-a` 选项：
```bash
git commit -a -m "Update some files"
```
使用 `-a` 选项时，Git 会自动将所有已跟踪文件的修改添加到暂存区并提交，但不会处理未跟踪的文件。

::: tip
为提高代码提交信息的可读性、协作效率和版本管理质量，你应该尽可能遵循 [commit 的提交规范](提交信息规范.md) 。
:::

## 4. 查看提交历史
### 功能概述
`git log` 命令用于查看版本库的提交历史，包括每个提交的哈希值、作者、提交时间和提交信息等。

### 基本用法
执行 `git log` 命令可以查看完整的提交历史：
```bash
git log
```
输出结果会按照时间顺序倒序排列，**最新的提交在最上面**。

### 简化输出
如果提交历史很长，你可能只需要查看一些关键信息，可以使用 `--oneline` 选项简化输出：
```bash
git log --oneline
```
该选项会将每个提交的信息压缩到一行，**只显示提交的哈希值和提交信息的前几个字符**。

### 查看指定数量的提交
使用 `-n` 选项可以指定查看的提交数量，例如查看最近的 3 个提交：
```bash
git log -n 3
```

通过以上步骤，可以使用 `Git` 完成版本库的创建，从初始化版本库到添加文件、暂存更改、提交版本，并查看提交历史。

